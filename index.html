<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <!-- âœ… æ–°å¢ favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="https://res.cloudinary.com/dijzndzw2/image/upload/v1757176751/logo-3_hddq08.png">
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>è‡ªç„¶å¤§å”æ¸…æ´—æœå‹™ï½œé¡§å®¢æ»¿æ„åº¦èª¿æŸ¥</title>
    <style>
    /* === ä¸»è¦æ¨£å¼ === */
    body{font-family:"Microsoft JhengHei",sans-serif;background:#f9faf9;color:#333;margin:0}
    .container{max-width:800px;margin:20px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1)}
    .logo{text-align:center;margin-bottom:20px}
    .logo img{max-width:100%;border-radius:12px}
    h2{text-align:center;color:#3a6d4f;margin:10px 0;font-size:2rem}
    p{line-height:1.7;color:#555;font-size:1.05rem}
    .form-group{margin-bottom:20px}
    label{font-weight:bold;display:block;margin-bottom:8px;color:#3a6d4f;font-size:1.1rem}
    .options label{display:block;margin:5px 0}
    textarea,input[type=text]{width:100%;box-sizing:border-box;padding:14px;border:1px solid #ccc;border-radius:8px;font-size:1rem;resize:vertical;margin-top:8px}
    input[type=range]{width:100%}
    button{background:#3a6d4f;color:#fff;border:0;padding:14px 20px;font-size:1.1rem;border-radius:8px;cursor:pointer;display:block;margin:0 auto}
    button:hover{background:#2d523c}
    .contact{margin-top:30px;padding:20px;background:#f1f9f1;border-radius:12px;font-size:1rem;text-align:center}
    .footer{text-align:center;margin-top:40px;font-size:.95rem;color:#777}
    .progress-container{background:#e0e0e0;border-radius:20px;margin:20px 0;height:20px;width:100%;overflow:hidden}
    .progress-bar{height:100%;background:#3a6d4f;width:0%;transition:width .3s ease}

    /* === æ·±æ·ºè‰²ä¸»é¡Œ === */
    body.dark{background:#121212;color:#eee}
    body.dark .container{background:#1e1e1e;box-shadow:0 4px 12px rgba(0,0,0,.6)}
    body.dark h2,body.dark label{color:#9ad0b1}
    body.dark p{color:#ccc}
    body.dark textarea,body.dark input[type=text],body.dark input[type=range]{background:#2a2a2a;color:#eee;border:1px solid #555}
    body.dark button{background:#4da67a}
    body.dark button:hover{background:#3b7e5b}
    body.dark .progress-container{background:#333}
    body.dark .progress-bar{background:#4da67a}
    body.dark .contact{background:#202020;color:#ccc}
    body.dark .footer{color:#aaa}

    /* === ç¤¾ç¾¤å“ç‰ŒæŒ‰éˆ• === */
    .social-buttons{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin-top:12px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;font-weight:700;text-decoration:none;box-shadow:0 6px 16px rgba(0,0,0,.12);transition:transform .15s ease,filter .15s ease}
    .btn svg{width:18px;height:18px;flex:0 0 auto}
    .btn-line{background:linear-gradient(180deg,#07d15f,#06c755);color:#fff}
    .btn-line:hover{transform:translateY(-1px);filter:brightness(1.02)}
    .btn-fb{background:linear-gradient(180deg,#2a86ff,#1877f2);color:#fff}
    .btn-fb:hover{transform:translateY(-1px);filter:brightness(1.02)}
    .btn-web{background:linear-gradient(180deg,#ff9900,#ff6600);color:#fff}
    .btn-web:hover{transform:translateY(-1px);filter:brightness(1.05)}
    .btn .label{letter-spacing:.2px;font-size:.95rem}

    /* === è¡Œå‹•è£ç½®èª¿æ•´ === */
@media (max-width:600px){
  .container{margin:10px;padding:18px;border-radius:10px}
  h2{font-size:1.4rem}
  p{font-size:0.75rem;line-height:1.6}
  label{font-size:1rem;line-height:1.6}
  input[type=text],textarea{font-size:1rem;padding:14px}
  button{width:100%;padding:16px;font-size:1.1rem}
  .social-buttons{flex-direction:column;align-items:stretch;gap:12px;margin-top:16px}
  .social-buttons .btn{display:block;width:100%;max-width:none;box-sizing:border-box;margin:0;padding:14px 16px;font-size:1rem;justify-content:center}
  .contact{padding-bottom:24px}
}

/* Loading Backdrop */
    #loadingBackdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.4);z-index:9999}
    #loadingBackdrop.show{display:flex}
    .loading-card{background:#fff;padding:16px 20px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.2);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    .spinner{width:18px;height:18px;border:3px solid #ddd;border-top-color:#888;border-radius:50%;display:inline-block;animation:spin 1s linear infinite;margin-right:8px;vertical-align:-3px}
    @keyframes spin{to{transform:rotate(360deg)}}
  </style>
</head>
<body>
  <div class="container">
    <div class="logo"><img src="ChatGPT.png" alt="è‡ªç„¶å¤§å”æ¸…æ´—æœå‹™ é¡§å®¢æ»¿æ„åº¦èª¿æŸ¥"/></div>
    <h2>èª æ‘¯é‚€è«‹æ‚¨å¡«å¯«æ»¿æ„åº¦èª¿æŸ¥</h2>
    <p>æ„Ÿè¬æ‚¨é¸æ“‡ <b>è‡ªç„¶å¤§å”å°ˆæ¥­å®¶é›»æ¸…æ´—æœå‹™</b>ï¼<br>
      æˆ‘å€‘å§‹çµ‚ç§‰æŒã€Œè®“æ¯ä¸€ä½é¡§å®¢ä¹¾æ·¨ä½¿ç”¨å®¶é›»ã€çš„åˆè¡·ï¼Œè‡´åŠ›æä¾›å®‰å…¨ã€å®‰å¿ƒã€æ”¾å¿ƒçš„æ¸…æ´—é«”é©—ã€‚<br>
      ç‚ºäº†æŒçºŒæå‡æœå‹™å“è³ªï¼Œä¹Ÿèª æ‘¯é‚€è«‹æ‚¨å¡«å¯«ä»¥ä¸‹èª¿æŸ¥è¡¨ï¼Œ<br>
      æ‚¨çš„å¯¶è²´æ„è¦‹ï¼Œå°‡æ˜¯æˆ‘å€‘é€²æ­¥çš„æœ€å¤§å‹•åŠ›ï¼</p>

    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

    <form id="surveyForm" method="POST" action="/api/submit" data-redirect="thankyou">
      <div class="form-group">
        <label>ğŸ‘¤ è«‹ç•™ä¸‹æ‚¨çš„å§“åæˆ– LINE IDï¼ˆé¸å¡«ï¼‰</label>
        <input type="text" name="customer_name" placeholder="è¼¸å…¥å§“åæˆ– LINE ID"/>
      </div>

      <div class="form-group">
        <label>1. æ‚¨å°é€™æ¬¡çš„æ¸…æ´—æœå‹™æ•´é«”é«”é©—æ„Ÿè¦ºå¦‚ä½•ï¼Ÿ</label>
        <div class="options">
          <label><input type="radio" name="q1" value="éå¸¸æ»¿æ„"/> éå¸¸æ»¿æ„</label>
          <label><input type="radio" name="q1" value="æ»¿æ„"/> æ»¿æ„</label>
          <label><input type="radio" name="q1" value="æ™®é€š"/> æ™®é€š</label>
          <label><input type="radio" name="q1" value="ä¸å¤ªæ»¿æ„"/> ä¸å¤ªæ»¿æ„</label>
          <label><input type="radio" name="q1" value="éå¸¸ä¸æ»¿æ„"/> éå¸¸ä¸æ»¿æ„</label>
        </div>
      </div>

      <div class="form-group">
        <label>2. æ‚¨å°æœå‹™äººå“¡çš„å°ˆæ¥­ç¨‹åº¦æ˜¯å¦æ»¿æ„ï¼Ÿ</label>
        <div class="options">
          <label><input type="radio" name="q2" value="éå¸¸æ»¿æ„"/> éå¸¸æ»¿æ„</label>
          <label><input type="radio" name="q2" value="æ»¿æ„"/> æ»¿æ„</label>
          <label><input type="radio" name="q2" value="æ™®é€š"/> æ™®é€š</label>
          <label><input type="radio" name="q2" value="ä¸å¤ªæ»¿æ„"/> ä¸å¤ªæ»¿æ„</label>
          <label><input type="radio" name="q2" value="éå¸¸ä¸æ»¿æ„"/> éå¸¸ä¸æ»¿æ„</label>
        </div>
        <textarea name="q2_extra" placeholder="è‹¥æœ‰ç‰¹åˆ¥å°è±¡æˆ–å»ºè­°ï¼Œè«‹å¡«å¯«..."></textarea>
      </div>

      <div class="form-group">
        <label>3. æ‚¨èªç‚ºæœå‹™äººå“¡çš„æ•´é«”è¡¨ç¾å¦‚ä½•ï¼Ÿ</label>
        <div class="note">ï¼ˆ1åˆ†=éå¸¸ä¸æ»¿æ„ï¼Œ5åˆ†=éå¸¸æ»¿æ„ï¼‰</div>
        <div class="options">
          <label><input type="radio" name="q3" value="1"/> 1 åˆ†</label>
          <label><input type="radio" name="q3" value="2"/> 2 åˆ†</label>
          <label><input type="radio" name="q3" value="3"/> 3 åˆ†</label>
          <label><input type="radio" name="q3" value="4"/> 4 åˆ†</label>
          <label><input type="radio" name="q3" value="5"/> 5 åˆ†</label>
        </div>
      </div>

      <div class="form-group">
        <label>4. è‹¥æœ‹å‹æˆ–åŒäº‹æœ‰éœ€è¦ï¼Œæ‚¨é¡˜æ„æ¨è–¦è‡ªç„¶å¤§å”çš„æ¸…æ´—æœå‹™å—ï¼Ÿ</label>
        <div class="note">ï¼ˆ1åˆ†=å®Œå…¨ä¸æœƒæ¨è–¦ï¼Œ10åˆ†=ä¸€å®šæœƒæ¨è–¦ï¼‰</div>
        <input id="q4" type="range" name="q4" min="1" max="10" value="5" oninput="this.nextElementSibling.value=this.value"/>
        <output>5</output>
      </div>

      <div class="form-group">
        <label>5. æœªä¾†æ˜¯å¦æœƒå†æ¬¡å§”è¨—è‡ªç„¶å¤§å”é€²è¡Œå®¶é›»æ¸…æ´—æœå‹™ï¼Ÿ</label>
        <div class="options">
          <label><input type="radio" name="q5" value="ä¸€å®šæœƒ"/> ä¸€å®šæœƒ</label>
          <label><input type="radio" name="q5" value="æœ‰éœ€è¦æœƒè€ƒæ…®"/> æœ‰éœ€è¦æœƒè€ƒæ…®</label>
          <label><input type="radio" name="q5" value="å¯èƒ½ä¸æœƒ"/> å¯èƒ½ä¸æœƒ</label>
          <label><input type="radio" name="q5" value="ä¸æœƒ"/> ä¸æœƒ</label>
        </div>
      </div>

      <div class="form-group">
        <label>6. æ‚¨å°æˆ‘å€‘çš„æœå‹™æœ‰ä»»ä½•æƒ³æ³•ã€é¼“å‹µæˆ–å»ºè­°å—ï¼Ÿ</label>
        <textarea name="q6" placeholder="ğŸ“ è«‹è‡ªç”±å¡«å¯«æ‚¨çš„å»ºè­°..."></textarea>
      </div>

      <button type="submit">é€å‡ºè¡¨å–®</button>
    </form>

    <div class="contact">
      <h3>ğŸ“± è¯çµ¡æˆ‘å€‘ï½œè‡ªç„¶å¤§å”</h3>

      <div class="social-buttons" role="group" aria-label="ç¤¾ç¾¤é€£çµ">
        <a class="btn btn-line" href="https://lin.ee/OHk6Rn7" target="_blank" rel="noopener noreferrer" aria-label="åŠ å…¥ LINE å®˜æ–¹å¸³è™Ÿ">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M19.667 3H4.333A3.333 3.333 0 0 0 1 6.333v7.334A3.333 3.333 0 0 0 4.333 17H7l3.478 3.2c.512.47 1.355.095 1.355-.589V17h7.834A3.333 3.333 0 0 0 23 13.667V6.333A3.333 3.333 0 0 0 19.667 3z"/></svg>
          <span class="label">åŠ å…¥ LINE</span>
        </a>

        <!-- æ–°çš„å®˜æ–¹ç¶²ç«™æŒ‰éˆ• -->
        <a class="btn btn-web" href="https://natural-uncle-official.netlify.app/" target="_blank" rel="noopener noreferrer" aria-label="å‰å¾€è‡ªç„¶å¤§å”å®˜æ–¹ç¶²ç«™">
          <img src="https://res.cloudinary.com/dijzndzw2/image/upload/v1757176751/logo-3_hddq08.png" alt="è‡ªç„¶å¤§å” LOGO" style="width:18px;height:18px;flex:0 0 auto"/>
          <span class="label">å®˜æ–¹ç¶²ç«™</span>
        </a>

        <!-- ä¿ç•™ Facebook æŒ‰éˆ• -->
        <a class="btn btn-fb" href="https://www.facebook.com/naturaluncle" target="_blank" rel="noopener noreferrer" aria-label="å‰å¾€ Facebook ç²‰çµ²å°ˆé ">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M22 12.07C22 6.49 17.52 2 11.93 2S2 6.49 2 12.07c0 5 3.66 9.15 8.44 9.93v-7.02H7.9V12.1h2.54V9.86c0-2.5 1.49-3.89 3.78-3.89 1.09 0 2.24.2 2.24.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56v1.91h2.78l-.44 2.88h-2.34V22c4.78-.78 8.44-4.93 8.44-9.93z"/></svg>
          <span class="label">è¿½è¹¤ Facebook</span>
        </a>
      </div>
    </div>

    <div class="footer">Â© 2025 è‡ªç„¶å¤§å”ï½œå°ˆæ¥­å®¶é›»æ¸…æ´—æœå‹™</div>
  </div>

  <div id="loadingBackdrop" aria-hidden="true"><div class="loading-card"><span class="spinner"></span>è³‡æ–™é€å‡ºä¸­ï¼Œè«‹ç¨å€™â€¦</div></div>

  <script>
    // === é€²åº¦æ¢ï¼šåªè¨ˆå…¥ä½¿ç”¨è€…å¯¦éš›å¡«ç­”ï¼Œåˆå§‹åŒ–ç‚º 0% ===
    (function(){
      var form=document.getElementById("surveyForm");
      var progressBar=document.getElementById("progressBar");
      function update(){
        var answered=0; // ä¾å¯¦éš›é¡Œç›®æ•¸è¨ˆç®—
        var total=6;    // q1~q5 + q6ï¼ˆæ–‡å­—ï¼‰
        var touchedRange=false;
        form.querySelectorAll("input,textarea").forEach(function(el){
          if(el.name==="q4" && el.type==="range"){
            if(el.value!=="5") touchedRange=true;
            return;
          }
          if(el.type==="radio" && el.checked) answered++;
          else if(el.type==="text" && el.value.trim()!=='') answered++;
          else if(el.tagName==="TEXTAREA" && el.value.trim()!=='') answered++;
        });
        if(touchedRange) answered++;
        progressBar.style.width=Math.min(answered/total*100,100)+"%";
      }
      form.addEventListener("input",update);
      update(); // åˆå§‹åŒ–ç‚º 0%
    })();

    // === é€å‡ºè™•ç†ï¼šé¡¯ç¤º Loading ä¸¦å°åˆ° thankyou ===
    (function(){
      var form=document.getElementById('surveyForm');
      var backdrop=document.getElementById('loadingBackdrop');
      form.addEventListener('submit', async function(e){
        e.preventDefault();
        backdrop.classList.add('show');
        try{
          var formData=new FormData(form);
          var res=await fetch(form.getAttribute('action')||'/api/submit',{
            method:'POST',
            body:formData
          });
          if(!res.ok){ throw new Error('æäº¤å¤±æ•—'); }
          var redirect=form.dataset.redirect||'thankyou';
          window.location.assign(redirect);
        }catch(err){
          backdrop.classList.remove('show');
          alert('é€å‡ºå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦æˆ–è¯çµ¡æˆ‘å€‘ã€‚');
          console.error(err);
        }
      });
    })();
  </script>
</body>
</html>
